## Описание:

	Симулятор клеточного мира с простым генетическим алгоритмом

## Сущности:

	* мир - прямоугольная таблица размером N на M
	* клетка
	* растение
	* мясо

## Параметры мира:

	* количество столбцов
		* название параметра в конфигурационном файле "worldWidth"
		* название параметра в диалоге настройки "Width of cell's world"

	* количество строк
		* название параметра в конфигурационном файле "worldHeight"
		* название параметра в диалоге настройки "Height of cell's world"

	* количество шагов симуляции в секунду
		* название параметра в конфигурационном файле "stepsPerSecond"
		* название параметра в диалоге настройки "Steps per second"

		! не гарантированый параметр, зависит от производительности системы

	* количество генерируемых растений за один шаг симуляции
		* название параметра в конфигурационном файле "plantsPerStep"
		* название параметра в диалоге настройки "Plants per step"

	* начальное количество растений
		* название параметра в конфигурационном файле "plants"
		* название параметра в диалоге настройки "Initial quantity of plants"

	* время жизни растения в шагах симуляции
		* название параметра в конфигурационном файле "plantLifeTime"
		* название параметра в диалоге настройки ...

	* энергия, получаемая клеткой при съедании растения
		* название параметра в конфигурационном файле "plantEnergy"
		* название параметра в диалоге настройки "Plant's energy"

	* начальное количество видов клеток с разным геном (первое поколение)
		* название параметра в конфигурационном файле "sortsOfCell"
		* название параметра в диалоге настройки "Initial quantity of sorts"

	* начальная энергия клетки (для первого поколения клеток)
		* название параметра в конфигурационном файле "cellEnergy"
		* название параметра в диалоге настройки "Initial cell's energy"

	* максимальный возраст клетки
		* название параметра в конфигурационном файле "maxAge"
		* название параметра в диалоге настройки "Max cell's age"

	* максимальный урон, который может нанести клетка другой клетке при атаке
		* название параметра в конфигурационном файле "maxDamage"
		* название параметра в диалоге настройки "Max damage"

	* нижнее значение интервала энергии для условия деления
		* название параметра в конфигурационном файле "minEnergyForDivision"
		* название параметра в диалоге настройки "Min energy for division"

	* верхнее значение интервала энергии для условия деления
		* название параметра в конфигурационном файле "maxEnergyForDivision"
		* название параметра в диалоге настройки "Max energy for division"

	* максимально возможная вероятность мутации клетки
		* название параметра в конфигурационном файле "maxMutationProbability"
		* название параметра в диалоге настройки ...

	* энергия, затрачиваемая при совершении одного движения (поворот, перемещение)
		* название параметра в конфигурационном файле "movementEnergy"
		* название параметра в диалоге настройки ...

	* чтобы атаковать, разность энергий атакующего и атакуемого должна быть не меньше этого параметра
		* название параметра в конфигурационном файле "attackCondition"
		* название параметра в диалоге настройки ...

	* энергия, затрачиваемая на одну атаку другой клетки
		* название параметра в конфигурационном файле "attackEnergy"
		* название параметра в диалоге настройки ...

	* энергия, получаемая клеткой при съедании мяса
		* название параметра в конфигурационном файле "meatEnergy"
		* название параметра в диалоге настройки "Meat's energy"

	* время жизни мяса в шагах симуляции
		* название параметра в конфигурационном файле "meatLifeTime"
		* название параметра в диалоге настройки ...

	Многоточие означает, что параметр пока не настраивается через указанный интерфейс.

	Параметры с префиксами min и max означают границы диапазона случайно генерируемой величины. Если
	параметр min отсутствует, то диапазон [0,max].

## Параметры базовой сущности:

	* текущий возраст (age)
	* максимальный возраст (maxAge)
	* энергия (Energy)
	* цвет
		- растения зелёные
		- мясо красное
		- клетка получает цвет при генерации или наследует его от родителя или меняет во время мутации

	Сущность погибает если достигнут максимальный возраст или энергия равна 0.

## Параметры клетки:

	Клетка наследует все параметры базовой сущности плюс добавляются следующие:

	* количество энергии, необходимое для деления (Energy for div)
	* вероятность мутации, число от 0 до 100 (Mutation)
	* наносимый при атаке урон (Damage)
	* поведенческий ген

	Ген описывает поведение клетки в зависимости от того, что находится прямо перед ней.
	Это может быть:

		* пустое поле (Empty)
		* клетка того же вида (Same)
		* клетка другого вида (Other)
		* растение (Plant)
		* мясо (Meat)
		* стена (Wall)
		* мёртвая сущность (Dead)

		Плюс ещё один вид поведения Weak на случай, когда клетка должна атаковать другую клетку,
		но у неё недостаточно энергии.

		Для каждого вида поведения определён набор возможных действий. Сначала есть смысл описать
		какие действия бывают:

			* NONE - ничего не делать
	        * TURN_L - повернуться налево
	        * TURN_R - повернуться направо
	        * MOVE - перейти на клетку вперёд
	        * ATTACK - атаковать другую клетку
	        * EAT - съесть растение или мясо

		Как видно, не все действия имеют смысл в определённых ситуациях. Например, зачем атаковать
		растение или мясо? Итак, наборы следующие:

			* Empty: {TURN_L, TURN_R, MOVE, NONE}
			* Same: {TURN_L, TURN_R, ATTACK}
			* Other: {TURN_L, TURN_R, ATTACK}
			* Plant: {TURN_L, TURN_R, EAT, NONE}
			* Meat: {TURN_L, TURN_R, EAT, NONE}
			* Wall: {TURN_L, TURN_R}
			* Weak: {TURN_L, TURN_R}
			* Dead: {TURN_L, TURN_R, NONE}

## Алгоритм клетки:

	0) Если мертва - пропустить шаг, иначе шаг 1

	1) Если атакована - пропустить шаг, иначе шаг 2
	
	2) Проверка готовности к делению
		
		2.1) если готова, то деление
			* Дочерняя клетка наследует следующие параметры родительской в неизменном виде:
				* необходимая энергия для деления (divEnergy)
				* наносимый при атаке урон (damage)
				* вероятность мутации (mutation)
				* цвет, если не происходит мутация
				* ген, если не происходит мутация

			* Во время деления может произойти мутация
				* изменяется одно поведенческое свойство гена, полученного от родителя
				* изменяется цвет клетки

			* Дочерняя клетка генерирует следующие параметры в соответствии с параметрами мира:
				* максимальное возраст
				* направление движения
				* цвет, если происходит мутация
				* ген, если происходит мутация

			* Родитель смещается на одну клетку вперёд

			* Родительская клетка отдаёт половину своей энергии дочерней

		2.2) иначе шаг 3

	3) Генетическое поведение
		Клетка определяет, что находится перед ней и выбирает поведение, записанное в её гене

## Алгоритм мира:

	Один шаг симуляции мира включает в себя следующие действия:

	1) генерация растений в соответствии с параметром мира plantsPerStep
	2) шаг симуляции для каждой клетки
	3) обработка мёртвых сущностей
		3.1) если клетка погибает, то она превращается в мясо
		3.2) если погибает растение или мясо (от старости или употреблены в пищу), то они удаляются из мира
